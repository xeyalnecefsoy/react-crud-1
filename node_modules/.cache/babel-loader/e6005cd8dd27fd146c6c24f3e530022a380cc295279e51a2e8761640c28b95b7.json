{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KhayalTurkic\\\\Desktop\\\\react-crud-1\\\\src\\\\EditStudent.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditStudent = () => {\n  _s();\n  const {\n    studentid\n  } = useParams(); // URL-dən gələn ID\n  const [id, setId] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [place, setPlace] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [validation, setValidation] = useState(false);\n  const navigate = useNavigate();\n\n  // Gələn tələbə məlumatlarını yükləmək üçün useEffect\n  useEffect(() => {\n    console.log(\"Fetching data for student ID:\", studentid);\n    fetch(`http://localhost:3400/students/${studentid}`).then(res => {\n      if (!res.ok) {\n        throw new Error(\"Server error: \" + res.status);\n      }\n      return res.json();\n    }).then(data => {\n      setId(data.id); // ID-sini yalnız göstəririk, dəyişdirmirik\n      setName(data.name);\n      setPlace(data.place);\n      setPhone(data.phone);\n    }).catch(err => console.error(\"Fetch error:\", err.message));\n  }, [studentid]);\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    // Validation yoxlaması\n    if (!name || !place || !phone) {\n      setValidation(true);\n      return;\n    }\n    const studentData = {\n      id,\n      name,\n      place,\n      phone\n    };\n\n    // Düzəlişlər üçün PUT sorğusu\n    fetch(`http://localhost:3400/students/${studentid}`, {\n      method: 'PUT',\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(studentData)\n    }).then(res => {\n      if (res.ok) {\n        alert(\"Tələbə məlumatı uğurla düzəldildi!\");\n        navigate(\"/\"); // Uğurlu düzəlişdən sonra əsas səhifəyə yönləndirir\n      }\n    }).catch(err => console.error(\"Fetch error:\", err));\n  };\n\n  // Dinamik validation mesajı\n  const renderValidationMessage = (field, message) => {\n    return field.length === 0 && validation && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"errorMsg\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 48\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"T\\u0259l\\u0259b\\u0259 M\\u0259lumatlar\\u0131na D\\xFCz\\u0259li\\u015F et\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"id\",\n        children: \"ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"id\",\n        name: \"id\",\n        value: id,\n        disabled: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Ad\\u0131:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        required: true,\n        value: name,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), renderValidationMessage(name, \"Adınızı daxil edin\"), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"place\",\n        children: \"\\xDCnvan:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"place\",\n        name: \"place\",\n        required: true,\n        value: place,\n        onChange: e => setPlace(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), renderValidationMessage(place, \"Ünvanınızı daxil edin\"), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"phone\",\n        children: \"N\\xF6mr\\u0259:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"phone\",\n        name: \"phone\",\n        required: true,\n        value: phone,\n        onChange: e => setPhone(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), renderValidationMessage(phone, \"Mobil nömrənizi daxil edin\"), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-save\",\n          children: \"D\\xFCz\\u0259li\\u015F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"btn btn-back\",\n          children: \"Geri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(EditStudent, \"kIYweFZG6DOyNvhrJQ+VYEpLjok=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditStudent;\nexport default EditStudent;\nvar _c;\n$RefreshReg$(_c, \"EditStudent\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","useParams","jsxDEV","_jsxDEV","EditStudent","_s","studentid","id","setId","name","setName","place","setPlace","phone","setPhone","validation","setValidation","navigate","console","log","fetch","then","res","ok","Error","status","json","data","catch","err","error","message","handleSubmit","e","preventDefault","studentData","method","headers","body","JSON","stringify","alert","renderValidationMessage","field","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","value","disabled","required","onChange","target","to","_c","$RefreshReg$"],"sources":["C:/Users/KhayalTurkic/Desktop/react-crud-1/src/EditStudent.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\n\r\nconst EditStudent = () => {\r\n  const { studentid } = useParams(); // URL-dən gələn ID\r\n  const [id, setId] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [place, setPlace] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [validation, setValidation] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Gələn tələbə məlumatlarını yükləmək üçün useEffect\r\n  useEffect(() => {\r\n    console.log(\"Fetching data for student ID:\", studentid);\r\n\r\n    fetch(`http://localhost:3400/students/${studentid}`)\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw new Error(\"Server error: \" + res.status);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setId(data.id);  // ID-sini yalnız göstəririk, dəyişdirmirik\r\n        setName(data.name);\r\n        setPlace(data.place);\r\n        setPhone(data.phone);\r\n      })\r\n      .catch((err) => console.error(\"Fetch error:\", err.message));\r\n\r\n  }, [studentid]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Validation yoxlaması\r\n    if (!name || !place || !phone) {\r\n      setValidation(true);\r\n      return;\r\n    }\r\n\r\n    const studentData = { id, name, place, phone };\r\n\r\n    // Düzəlişlər üçün PUT sorğusu\r\n    fetch(`http://localhost:3400/students/${studentid}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        \"content-type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(studentData)\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        alert(\"Tələbə məlumatı uğurla düzəldildi!\");\r\n        navigate(\"/\");  // Uğurlu düzəlişdən sonra əsas səhifəyə yönləndirir\r\n      }\r\n    })\r\n    .catch((err) => console.error(\"Fetch error:\", err));\r\n  };\r\n\r\n  // Dinamik validation mesajı\r\n  const renderValidationMessage = (field, message) => {\r\n    return field.length === 0 && validation && <span className='errorMsg'>{message}</span>;\r\n  };\r\n\r\n  return (\r\n    <div className='container'>\r\n      <h2>Tələbə Məlumatlarına Düzəliş et</h2>\r\n      <form onSubmit={handleSubmit}>\r\n\r\n        <label htmlFor=\"id\">ID:</label>\r\n        <input type=\"text\" id=\"id\" name=\"id\" value={id} disabled /> {/* ID sahəsi yalnız oxumaq üçün */}\r\n        \r\n        <label htmlFor=\"name\">Adı:</label>\r\n        <input type=\"text\" id=\"name\" name=\"name\" required value={name} onChange={e => setName(e.target.value)} />\r\n        {renderValidationMessage(name, \"Adınızı daxil edin\")}\r\n\r\n        <label htmlFor=\"place\">Ünvan:</label>\r\n        <input type=\"text\" id=\"place\" name=\"place\" required value={place} onChange={e => setPlace(e.target.value)} />\r\n        {renderValidationMessage(place, \"Ünvanınızı daxil edin\")}\r\n\r\n        <label htmlFor=\"phone\">Nömrə:</label>\r\n        <input type=\"text\" id=\"phone\" name=\"phone\" required value={phone} onChange={e => setPhone(e.target.value)} />\r\n        {renderValidationMessage(phone, \"Mobil nömrənizi daxil edin\")}\r\n\r\n        <div className='form-buttons'>\r\n          <button className='btn btn-save'>Düzəliş</button>\r\n          <Link to=\"/\" className='btn btn-back'>Geri</Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditStudent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}